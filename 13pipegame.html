<canvas id='c'></canvas>
<script>
    var c = document.getElementById('c').getContext('2d')
    var x = 300
    var my = 100
    var speed = 0
    
    window.onclick = jump
    function jump()
    { if (my >= 100) speed = -3.5 }
    
    draw()
    
    function draw(){
    c.fillStyle = 'skyblue'
    c.fillRect(0,0,300,150)
    
    c.fillStyle = 'green'
    c.fillRect(x,100,30,50)
    c.fillRect(x-10,80,50,20)
    
    c.fillStyle = 'brown'
    c.fillRect(0,130,300,20)
    
    var mario = new Image()
    mario.src = "http://i66.tinypic.com/2e3tvsj.gif"
    c.drawImage(mario,50,my)
    
    x = x - 1
    if (x == -50)   x = 300
        
    if (my < 100 || speed < 0){
        my = my + speed;
        speed = speed + 0.1;    }
        
if (!(x == 65 && my >= 100)) requestAnimationFrame(draw) 
    }
</script>